---
phase: 04-polish-and-production-readiness
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - components/transactions/EmptyState.tsx
  - app/association/[associationId]/transactions/page.tsx
  - app/association/[associationId]/teams/[teamId]/page.tsx
autonomous: true

must_haves:
  truths:
    - 'Empty states guide users with helpful next actions'
    - 'Timezone label indicates association timezone for all dates'
    - 'No teams state shows clear explanation'
    - 'No transactions state explains when transactions will appear'
    - 'No filter results state suggests adjusting filters'
  artifacts:
    - path: 'components/transactions/EmptyState.tsx'
      provides: 'Reusable empty state component with icon, title, description, optional action'
      min_lines: 40
    - path: 'app/association/[associationId]/transactions/page.tsx'
      provides: 'Timezone label display and empty state variations'
      contains: 'EmptyState'
  key_links:
    - from: 'app/association/[associationId]/transactions/page.tsx'
      to: 'components/transactions/EmptyState.tsx'
      via: 'import and render for empty conditions'
      pattern: 'import.*EmptyState.*from.*components'
---

<objective>
Create helpful empty state variations and add timezone clarity to ensure users understand what's missing and when dates are displayed.

Purpose: Guide users when no data exists, clarify timezone context for financial data (per success criteria: "timezone labels indicate association timezone").

Output: Reusable EmptyState component, timezone labels, improved user guidance.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-polish-and-production-readiness/04-CONTEXT.md
@.planning/phases/04-polish-and-production-readiness/04-RESEARCH.md
@app/association/[associationId]/transactions/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Reusable EmptyState Component</name>
  <files>components/transactions/EmptyState.tsx</files>
  <action>
Create EmptyState component matching RESEARCH.md Pattern 4:

Props:

- icon?: React.ComponentType (default FileText from lucide-react)
- title: string
- description: string
- action?: { label: string; onClick: () => void } (optional action button)

UI:

- Centered flex column layout (py-12, text-center)
- Icon: h-12 w-12 text-muted-foreground
- Title: h3 with text-lg font-semibold
- Description: p with text-sm text-muted-foreground, max-w-sm
- Action button (if provided): Button variant="outline" with mt-6

Import FileText, Users, Receipt, Search icons from lucide-react.
Import Button from @/components/ui/button.
</action>
<verify>
File exists at components/transactions/EmptyState.tsx
Component accepts icon, title, description, action props
TypeScript compilation passes
Component renders without errors
</verify>
<done>
EmptyState component created and ready for use in multiple contexts.
</done>
</task>

<task type="auto">
  <name>Task 2: Add Timezone Label to Association Transactions Page</name>
  <files>app/association/[associationId]/transactions/page.tsx</files>
  <action>
Add timezone label to association transactions page (per success criteria: "timezone labels indicate association timezone").

Location: Above transaction table, inside CardContent, before Table component.

Implementation:

- For MVP, use hardcoded "America/New_York" timezone (Eastern Time)
- Display as: "All dates in Eastern Time" in text-xs text-muted-foreground mb-2
- Position directly above <Table> component (line 713 area)

Example:

```tsx
<div className="text-muted-foreground mb-2 text-xs">All dates in Eastern Time</div>
```

Note: Future enhancement could read association timezone from database, but hardcoded is acceptable for v1 (per RESEARCH.md Open Question 3).
</action>
<verify>
Timezone label appears above transaction table
Label uses Eastern Time (hardcoded acceptable for v1)
Label is visible but not intrusive (small text, muted color)
TypeScript compilation passes
</verify>
<done>
Timezone label added to clarify date display context for users.
</done>
</task>

<task type="auto">
  <name>Task 3: Replace Empty State with EmptyState Component Variations</name>
  <files>app/association/[associationId]/transactions/page.tsx</files>
  <action>
Replace existing empty state (lines 687-698) with EmptyState component, adding variations for different scenarios.

Use RESEARCH.md Code Examples (Empty State Variations) and CONTEXT.md decisions:

1. No filter results (existing case with searchQuery or categoryFilter):

   ```tsx
   <EmptyState
     icon={Search}
     title="No transactions match your filters"
     description="Try adjusting your date range or team selection to see more results."
     action={{
       label: 'Clear Filters',
       onClick: handleClearAllFilters,
     }}
   />
   ```

2. No transactions (no filters active):
   ```tsx
   <EmptyState
     icon={Receipt}
     title="No transactions yet"
     description="Teams in this association haven't recorded any transactions yet. Transactions will appear here once team treasurers start adding them."
   />
   ```

Import Search and Receipt icons from lucide-react.
Import EmptyState from @/components/transactions/EmptyState.

Differentiate between filtered empty (show Clear Filters action) and natural empty (no action).
</action>
<verify>
Empty state displays EmptyState component (not hardcoded div)
Different messages shown for filtered vs. unfiltered empty states
"Clear Filters" action appears only when filters are active
TypeScript compilation passes
Icons display correctly (Search for filtered, Receipt for unfiltered)
</verify>
<done>
Empty states provide helpful guidance with appropriate icons and optional actions.
</done>
</task>

</tasks>

<verification>
Run TypeScript compilation to verify no errors:
```bash
npm run build
```

Manual check:

- Open association transactions page
- Verify timezone label appears above table: "All dates in Eastern Time"
- Clear all teams to trigger empty state
- Verify empty state shows helpful message with icon
- Apply filters with no results
- Verify "No transactions match your filters" appears with "Clear Filters" button
- Click "Clear Filters" and verify it works
  </verification>

<success_criteria>

- [ ] EmptyState component created with icon, title, description, optional action
- [ ] Timezone label displays "All dates in Eastern Time" above transaction table
- [ ] Empty state for no transactions shows helpful message
- [ ] Empty state for filtered results offers "Clear Filters" action
- [ ] No TypeScript compilation errors
- [ ] Empty states use appropriate icons (Receipt, Search)
      </success_criteria>

<output>
After completion, create `.planning/phases/04-polish-and-production-readiness/04-02-SUMMARY.md`
</output>
