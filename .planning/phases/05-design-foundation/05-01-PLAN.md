---
phase: 05-design-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - components/ui/card.tsx
  - app/dashboard/page.tsx
  - components/dashboard/BudgetCategoryList.tsx
  - components/dashboard/QuickActionsCard.tsx
autonomous: false

must_haves:
  truths:
    - 'Dashboard card headings are consistently 18px (text-lg)'
    - 'Labels and secondary text are consistently 14px (text-sm)'
    - 'Large metrics are consistently 30px (text-3xl)'
    - 'Badge text is consistently 12px (text-xs)'
    - 'Card internal spacing uses clean 4px multiples (space-y-2 not space-y-1.5)'
    - 'Visual hierarchy is immediately scannable - metrics stand out from labels'
  artifacts:
    - path: 'components/ui/card.tsx'
      provides: 'CardHeader with space-y-2, CardTitle with text-lg default'
      min_lines: 75
    - path: 'app/dashboard/page.tsx'
      provides: 'Dashboard layout with systematic typography classes'
      min_lines: 360
      contains: 'text-lg font-semibold text-navy'
    - path: 'components/dashboard/BudgetCategoryList.tsx'
      provides: 'Budget card with text-lg CardTitle'
      contains: 'text-lg'
  key_links:
    - from: 'components/ui/card.tsx'
      to: 'all dashboard components'
      via: 'CardHeader/CardTitle imports'
      pattern: 'import.*CardHeader.*CardTitle.*from.*ui/card'
    - from: 'app/dashboard/page.tsx'
      to: 'typography hierarchy'
      via: 'explicit text-* classes on all text elements'
      pattern: 'text-(xs|sm|base|lg|3xl)'
---

<objective>
Apply QuickBooks typography hierarchy and refine 4px spacing grid across dashboard components.

Purpose: Establish consistent visual rhythm and clear information architecture - users should instantly distinguish metrics from labels through systematic type scale (12px badges, 14px labels, 18px headings, 30px metrics).

Output: Dashboard with professional QuickBooks-aligned design polish - text hierarchy is scannable, spacing feels intentional, visual rhythm is consistent across all cards.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/REQUIREMENTS.md
@.planning/phases/05-design-foundation/05-RESEARCH.md

# Current dashboard components (reference for patterns)

@components/dashboard/KpiCard.tsx
@components/ui/card.tsx
@app/dashboard/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Update Card base component with systematic typography and 4px spacing</name>
  <files>components/ui/card.tsx</files>
  <action>
Update Card component base patterns to align with QuickBooks 4px grid and typography hierarchy:

1. **CardHeader spacing refinement:**
   - Change `space-y-1.5` (6px) to `space-y-2` (8px) - clean 4px multiple
   - This fixes the only non-4px-grid spacing in the card system

2. **CardTitle typography default:**
   - Add `text-lg` to CardTitle base className
   - Establishes 18px headings as the default for all card titles
   - Components can still override with className prop if needed

**Why these changes:**

- Research shows CardHeader space-y-1.5 (6px) is the only spacing not on 4px grid
- CardTitle currently has no default font size, inheriting from parent (inconsistent)
- QuickBooks design system uses 18px/28px (text-lg) for card headings
- Current KpiCard, BudgetCategoryList, QuickActionsCard already use text-base for titles (16px) - this upgrades to 18px for better hierarchy

**What NOT to change:**

- DO NOT change CardContent padding (p-6 pt-0) - already correct
- DO NOT change Card shadow/border - already correct
- DO NOT add font weights to CardTitle - let components control (some use font-semibold, others don't)

Example of what CardHeader should become:

```tsx
className={cn("flex flex-col space-y-2 p-6", className)}
```

Example of what CardTitle should become:

```tsx
className={cn("text-lg font-semibold leading-none tracking-tight", className)}
```

  </action>
  <verify>
Check updated Card component:
```bash
grep -n "space-y-2" components/ui/card.tsx
grep -n "text-lg" components/ui/card.tsx
```

Both patterns should appear in the file. CardHeader should have space-y-2, CardTitle should have text-lg.
</verify>
<done>
CardHeader uses space-y-2 (8px), CardTitle includes text-lg as default base class. Card component establishes systematic foundation for all dashboard cards.
</done>
</task>

<task type="auto">
  <name>Apply systematic typography to dashboard page and card components</name>
  <files>
app/dashboard/page.tsx
components/dashboard/BudgetCategoryList.tsx
components/dashboard/QuickActionsCard.tsx
  </files>
  <action>
Apply systematic typography hierarchy across dashboard components following QuickBooks type scale:

**Typography scale to apply:**

- Badges: text-xs (12px) - already correct in KpiCard
- Labels/secondary text: text-sm (14px) - verify all labels use this
- Card headings: text-lg (18px) - now provided by CardTitle default
- Large metrics: text-3xl (30px) - already correct in KpiCard
- Page title: text-3xl (30px) - already correct

**Changes needed:**

**1. app/dashboard/page.tsx:**

Line 193-194 (Page header):

- ✓ Already correct: `text-3xl font-bold` for h1, `text-base` for subtitle
- NO CHANGES NEEDED (text-base at 16px is appropriate for team name subtitle)

Lines 300-304, 331-334 (Inline cards - Exceptions/Compliance):

- CardTitle currently: `text-base font-semibold text-navy`
- REMOVE text-base (CardTitle now defaults to text-lg)
- Result: `className="text-navy flex items-center gap-2 font-semibold"`

Lines 308, 339 (Inline card badges):

- ✓ Already uses Badge component with default sizing
- NO CHANGES NEEDED

**2. components/dashboard/BudgetCategoryList.tsx:**

Lines 25, 54 (CardTitle):

- Current: `text-base font-semibold text-navy`
- REMOVE text-base (inherit text-lg from CardTitle default)
- Result: `className="font-semibold text-navy"`

Line 57 (Card subtitle):

- ✓ Already correct: `text-sm text-navy/60`
- NO CHANGES NEEDED

Lines 72-73 (Category names/amounts):

- ✓ Already correct: `text-sm` for labels, `text-xs` for amounts
- NO CHANGES NEEDED

**3. components/dashboard/QuickActionsCard.tsx:**

Line 14 (CardTitle):

- Current: `text-base font-semibold text-navy`
- REMOVE text-base (inherit text-lg from CardTitle default)
- Result: `className="font-semibold text-navy"`

**What NOT to change:**

- DO NOT change KpiCard.tsx - already has explicit text-sm, text-xs, text-3xl classes (correct)
- DO NOT change DashboardContent.tsx - out of scope for this plan
- DO NOT change ValidationComplianceCard.tsx - uses CardTitle which will inherit text-lg automatically
- DO NOT add text-\* classes where components are correctly inheriting
- DO NOT change font weights or colors - only font sizes

**Pattern to follow:**
When CardTitle has `className="text-base font-semibold text-navy"`, remove text-base, keep the rest.
When text elements already have explicit text-sm/text-xs/text-3xl, leave them alone.
</action>
<verify>
Check typography changes applied:

```bash
# Verify CardTitle classes no longer have text-base
grep -n "CardTitle" app/dashboard/page.tsx components/dashboard/BudgetCategoryList.tsx components/dashboard/QuickActionsCard.tsx

# Verify explicit typography classes remain on labels
grep -n "text-sm\|text-xs\|text-3xl" app/dashboard/page.tsx

# Verify no text-base classes on CardTitle elements
! grep "CardTitle.*text-base" app/dashboard/page.tsx components/dashboard/BudgetCategoryList.tsx components/dashboard/QuickActionsCard.tsx
```

All CardTitle elements should use className without text-base (inheriting text-lg from component default). Labels should still have explicit text-sm, text-xs classes.
</verify>
<done>
Dashboard page and card components use systematic typography hierarchy: CardTitle defaults to 18px (text-lg), labels consistently use 14px (text-sm), badges use 12px (text-xs), metrics use 30px (text-3xl). Typography creates clear visual hierarchy matching QuickBooks design patterns.
</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
QuickBooks typography hierarchy and refined 4px spacing grid applied to dashboard components.

Changes made:

- Card base component: CardHeader uses space-y-2 (8px), CardTitle defaults to text-lg (18px)
- Dashboard page: Inline card titles inherit text-lg from CardTitle
- Budget/QuickActions cards: Titles inherit text-lg, labels remain text-sm
- All spacing now on clean 4px multiples (no more space-y-1.5)
  </what-built>
  <how-to-verify>
  Visual verification steps:

1. **Start dev server:**

   ```bash
   npm run dev
   ```

2. **Navigate to dashboard:**
   - Visit http://localhost:3000/dashboard
   - Log in with treasurer account (has full dashboard view)

3. **Verify typography hierarchy (CRITICAL):**

   **Card headings (should be 18px, medium weight, navy):**
   - "Budget Performance" card title
   - "Quick Actions" card title
   - "Exceptions Need Review" title (if exceptions exist)
   - "Compliance Alert" title (if non-compliant)

   **Labels (should be 14px, lighter weight, navy/60):**
   - KPI card titles: "Cash Position", "Budget Utilization", "Exceptions", "Compliance"
   - Category labels in Budget Performance card
   - "Cash Position" subtitle under page title
   - Secondary text throughout cards

   **Metrics (should be 30px, bold, navy):**
   - KPI card values: "$X,XXX.XX", "100", etc.
   - Large numbers that draw the eye first

   **Badges (should be 12px, semibold):**
   - "Healthy", "Deficit", "Action Needed", "Compliant" badges in KPI cards

4. **Verify visual hierarchy (scannable test):**
   - Unfocus your eyes slightly and scan the dashboard
   - Metrics (30px) should be the FIRST thing you see
   - Card headings (18px) should be clearly distinct from labels (14px)
   - Visual rhythm should feel consistent - no jarring size jumps

5. **Verify spacing (4px grid alignment):**
   - Card titles should have comfortable breathing room (space-y-2 = 8px between title and subtitle)
   - No cramped spacing within card headers
   - All spacing should feel intentional and professional

6. **Check responsive behavior:**
   - Resize browser to mobile width (320px)
   - Typography should remain readable
   - No text overflow or wrapping issues
   - Spacing should feel proportional on small screens

7. **Compare to v1.0 baseline:**
   - Overall feel: More polished? More scannable?
   - Information hierarchy: Clearer distinction between elements?
   - Professional appearance: Matches QuickBooks design quality?

**Success indicators:**

- ✓ Can distinguish metrics from labels without reading
- ✓ Card headings feel appropriately sized (not too small, not too large)
- ✓ Spacing feels consistent and professional
- ✓ No layout breaks, text overflow, or misalignment
- ✓ Mobile view remains readable and well-proportioned

**Failure indicators:**

- ✗ Text sizes look the same (hierarchy not working)
- ✗ Card headings too large or too small
- ✗ Cramped spacing in card headers
- ✗ Text wrapping issues on mobile
- ✗ Layout shifts or alignment problems
  </how-to-verify>
  <resume-signal>
  Type "approved" if typography hierarchy is clear and spacing feels professional.

If issues found, describe:

- Which component has the issue
- What's wrong (too large/small, cramped, overflowing, etc.)
- Screenshot if layout is broken
  </resume-signal>
  </task>

</tasks>

<verification>
After all tasks complete and visual verification approved:

**Typography hierarchy check:**

```bash
# CardTitle defaults to text-lg
grep "text-lg" components/ui/card.tsx

# Dashboard components use systematic sizing
grep -E "text-(xs|sm|lg|3xl)" app/dashboard/page.tsx components/dashboard/BudgetCategoryList.tsx components/dashboard/KpiCard.tsx

# No text-base on CardTitle elements (should inherit text-lg)
! grep "CardTitle.*text-base" app/dashboard/page.tsx components/dashboard/*.tsx
```

**Spacing grid check:**

```bash
# CardHeader uses space-y-2 (8px, clean 4px multiple)
grep "space-y-2" components/ui/card.tsx

# No space-y-1.5 remains (was 6px, not on grid)
! grep "space-y-1.5" components/ui/card.tsx
```

**Visual verification:**

- Dashboard loads without errors
- Typography hierarchy is immediately scannable
- Metrics (30px) draw attention first
- Card headings (18px) are distinct from labels (14px)
- Badges (12px) are appropriately small
- Spacing feels professional and consistent
- No layout breaks or text overflow issues
  </verification>

<success_criteria>
Phase 5 complete when:

1. **Systematic typography applied (UX-02):**
   - Badges: 12px (text-xs)
   - Labels: 14px (text-sm)
   - Card headings: 18px (text-lg) - default from CardTitle
   - Metrics: 30px (text-3xl)
   - Page titles: 30px (text-3xl)

2. **4px spacing grid refined (UX-01):**
   - CardHeader uses space-y-2 (8px) instead of space-y-1.5 (6px)
   - All spacing now on clean 4px multiples
   - Existing correct spacing maintained (p-6, gap-4, gap-6, mb-8)

3. **Visual hierarchy is scannable:**
   - Users can distinguish metrics from labels at a glance
   - Information hierarchy is clear without reading
   - Visual rhythm feels professional and intentional

4. **No regressions:**
   - Dashboard loads without errors
   - No layout breaks or alignment issues
   - Mobile responsive behavior maintained
   - All existing functionality works

5. **Files updated:**
   - components/ui/card.tsx (CardHeader spacing, CardTitle typography)
   - app/dashboard/page.tsx (inline card titles)
   - components/dashboard/BudgetCategoryList.tsx (CardTitle)
   - components/dashboard/QuickActionsCard.tsx (CardTitle)

6. **Human verification approved:**
   - Treasurer viewed dashboard and confirmed typography hierarchy is clear
   - Spacing feels professional and consistent
   - No visual issues or layout problems reported
     </success_criteria>

<output>
After completion, create `.planning/phases/05-design-foundation/05-01-SUMMARY.md` documenting:
- Typography hierarchy applied (which components, which sizes)
- Spacing refinements made (CardHeader change)
- Visual verification results
- Before/after comparison notes
- Any discovered issues or follow-up items for Phase 6
</output>
